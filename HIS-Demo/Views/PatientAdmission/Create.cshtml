@*@model HISDemo.Models.Patient
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_LayoutSetup.cshtml";
   
}

<style type="text/css">
    label
    {
        width: 40%;
    }
    #red
    {
        color: Red;
    }
</style>
<link href="../../js/formDesign/validationEngine.jquery.css" rel="stylesheet" type="text/css" />
<script src="../../js/formDesign/jquery.validationEngine.js" type="text/javascript"></script>
<script src="../../js/formDesign/jquery.validationEngine-en.js" type="text/javascript"></script>
<script src="../../js/formDesign/jquery.maskedinput-1.3.js" type="text/javascript"></script>
<script type="text/javascript">
    $("#leftMenu").hide("slow");
    $(document).ready(function (e) {
        $("#leftMenu").hide("slow");
        $("#lastChild").click(function () {

            $("#leftMenu").hide("slow");
            $("#Close").show("slow");
        });
        $("#Close").click(function () {

            $("#leftMenu").show("slow");
            $("#Close").hide("slow");
        });
        $(".arrowImage").each(function () {
            $(this).click(function () {
                $(this).parent().parent().find("div").toggle("slow");
                $(this).attr("style", "webkit-transform: rotate(180deg)");
            });
        });
    });
    function Closechecked() {
        var answer = confirm("Do you really want to close window ?")
        if (answer) {
            window.close();
        }

        return false;
    }
</script>
<script type="text/javascript">
    jQuery(document).ready(function () {
        jQuery("#pform").validationEngine('attach', { promptPosition: "centerRight" });

    });
</script>
<style type="text/css">
    #messageBox
    {
        padding: 5px;
        display: none;
        top: 50%;
        left: 50%;
    }
  .ui-menu
  {
      width:20%;
      position:absolute;
      border:1px solid green;
       list-style-type:square;
       background:#fff;
  }
      
.ui-menu-item
{
    padding:4px;
    margin:0px;
    position:relative;
    color:Gray;
    border-bottom:1px solid #00f;
}
.ui-menu-item:hover
{
    border:1px solid #000;
    background:#000;
}

</style>
<script src="../../js/position.js" type="text/javascript"></script>
<script src="../../js/jquery.ui.widget.js" type="text/javascript"></script>
<script src="../../js/jquery.ui.autocomplete.js" type="text/javascript"></script>
<script src="../../js/core.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
    function log( message ) {
			$( "<div/>" ).text( message ).prependTo( "#log" );
			$( "#log" ).scrollTop( 0 );
		}
        $.ajax({
            url: "@Url.Content("~/Content/Contries.xml")",
            dataType: "xml",
            success: function (xmlResponse) {
                var data = $("Code", xmlResponse).map(function () {
                    return {
                        value: $.trim($("Code_Description", this).text()) + ",[ " +
							($.trim($("Code", this).text())+"]" || "(unknown Code)"),
                        id: $("Code", this).text()
                    };
                }).get();
                $("#PrimaryDiagnosis").autocomplete({
                    source: data,
                    minLength: 0,
                    select: function (event, ui) {
                        log(ui.item ?
							"Selected: " + ui.item.value + ", Code: " + ui.item.id :
							"Nothing selected, input was " + this.value);
                    }
                });
            }
        });
    });
    
    
   
</script>



<style type="text/css">
  #ui-block-a
  {
     width:25%; margin-left:10%;
      }
      
       #ui-block-b
       {
           width:60%
           
           }
           #top
           {
               margin-top:2%;
             
               
               }
               
               #border
               {
                     border: 1px solid yellow;
                     border-radius:6px;
                   
                     padding:12px;
                   }

</style>

@section Header {
    <h2>
         Patient Admission</h2>
    <a href="@Url.Action("Index", "Home")" data-role="button" data-icon="home" data-theme="e" data-iconpos="notext">
    </a>
     <a href="@Url.Action("Index", "Home")" data-role="button" data-icon="grid" data-theme="e" data-iconpos="notext">
    </a>
    <div data-role="navbar" data-transition="flip" data-iconpos="top" data-inset="true">
		<ul>
			<li><a href="#"  data-icon="plus">Patient Setup</a></li>
			<li><a href="#" class="ui-btn-active"  data-icon="plus">Admission</a></li>
            <li><a href="#" data-icon="plus">Insurance</a></li>
            <li><a href="#" data-icon="plus">Billing</a></li>
		</ul>
	</div>
}
@section Footer {
 
    }
<div data-role="content" data-theme="e">
    <form action="/PatientAdmission/Create" id="pform" method="post">
    <div style="text-align:center;">
        <h4>
           <strong> Patient [ @Model.LastName @Model.FirstName ] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    DOB [@Model.DOB]  </strong></h4>
           <h5> [ @Model.Gender ]</h5>
     
    </div>


      <div id="border">
                    <div class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            MRN
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                               <input id="MRN" class="validate[required] text-input" name="MRN" type="text"
                value="@Model.MRN" />
                        </div>
                    </div>
                    <div id="top" class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            Hospital
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                             @Html.EditorFor(model => model.Hospital)
            @Html.ValidationMessageFor(model => model.Hospital)  </div>
                    </div>
                    <div id="top" class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            Hospitalist
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                             @Html.EditorFor(model => model.Hospitalist)
            @Html.ValidationMessageFor(model => model.Hospitalist)
                        </div>
                    </div>
                    <div id="top" class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            Admit Date
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                            <input class="validate[required,custom[date]] text-input" id="DOA" name="DOA" type="text" value="@Model.DOA"/>
                        </div>
                    </div>
                    <div id="top" class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            Physician
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                             @Html.EditorFor(model => model.ReferringPhysician)
                             @Html.ValidationMessageFor(model => model.ReferringPhysician)
                        </div>



                    </div>


                       <div id="top" class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            Floor
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                             @Html.EditorFor(model => model.Floor)
                             @Html.ValidationMessageFor(model => model.Floor)
                        </div>



                    </div>


                     <div id="top" class="ui-grid-a">
                        <div id="ui-block-a" class="ui-block-a">
                            Room
                        </div>
                        <div id="ui-block-b" class="ui-block-b">
                             @Html.EditorFor(model => model.Room)
                             @Html.ValidationMessageFor(model => model.Room)
                        </div>



                    </div>
                </div>


 
    <div class="ui-grid-c" data-content-theme="d" style="text-align: right;">

     <input type="reset" data-role="button" data-inline="true" data-theme="a" value="Reset" />
        <input type="button" data-role="button" data-inline="true" data-theme="a" id="closewindow"
            onclick="return Closechecked();" value="Close" />
        <input type="submit" data-role="button" data-inline="true" data-theme="a" value="Save & Next " />
       
    </div>
    </form>
</div>


*@ @*---------------gautam-------------------------------------------*@


@model HISDemo.Models.Patient
@{
    ViewBag.Title = "Create1";
    Layout = "~/Views/Shared/_LayoutSetup.cshtml";
    DateTime now = DateTime.Today;

    DateTime birthday = Convert.ToDateTime("2000/05/05");
    int age = now.Year - birthday.Year;
    if (now < birthday.AddYears(age))
    { age--; };
    ViewBag.age = age;

}
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/PS_newstyle/css/jquery-jvert-tabs-1.1.4.css")" />
<script type="text/javascript" src="@Url.Content("~/Content/PS_newstyle/js/jquery-jvert-tabs-1.1.4.js")"></script>
<style type="text/css">
    label
    {
        width: 40%;
    }
    #red
    {
        color: Red;
    }
</style>
<link href="../../js/formDesign/validationEngine.jquery.css" rel="stylesheet" type="text/css" />
<script src="../../js/formDesign/jquery.validationEngine.js" type="text/javascript"></script>
<script src="../../js/formDesign/jquery.validationEngine-en.js" type="text/javascript"></script>
<script src="../../js/formDesign/jquery.maskedinput-1.3.js" type="text/javascript"></script>
<script type="text/javascript">
    $("#leftMenu").hide("slow");
    $(document).ready(function (e) {
        $("#leftMenu").hide("slow");
        $("#lastChild").click(function () {

            $("#leftMenu").hide("slow");
            $("#Close").show("slow");
        });
        $("#Close").click(function () {

            $("#leftMenu").show("slow");
            $("#Close").hide("slow");
        });
        $(".arrowImage").each(function () {
            $(this).click(function () {
                $(this).parent().parent().find("div").toggle("slow");
                $(this).attr("style", "webkit-transform: rotate(180deg)");
            });
        });
    });
    function Closechecked() {
        var answer = confirm("Do you really want to close window ?")
        if (answer) {
            window.close();
        }

        return false;
    }
</script>
<script type="text/javascript">
    jQuery(document).ready(function () {
        jQuery("#pform").validationEngine('attach', { promptPosition: "centerRight" });

    });
</script>
<style type="text/css">
    #ui-block-a
    {
        width: 25%;
        margin-left: 10%;
        white-space: nowrap;
    }
    
    #ui-block-b
    {
        width: 60%;
    }
    #top
    {
        margin-top: 2%;
    }
    
    #border
    {
        border: 1px solid gray;
        padding: 12px;
    }
    #messageBox
    {
        padding: 5px;
        display: none;
        top: 50%;
        left: 50%;
    }
    .ui-menu
    {
        width: 20%;
        position: absolute;
        border: 1px solid green;
        list-style-type: square;
        background: #fff;
    }
    
    .ui-menu-item
    {
        padding: 4px;
        margin: 0px;
        position: relative;
        color: Gray;
        border-bottom: 1px solid #00f;
    }
    .ui-menu-item:hover
    {
        border: 1px solid #000;
        background: #000;
    }
    
    
    #infoouter
    {
        width: 99.7%;
        margin: 0px;
        padding: 0px;
        background-color: #666;
        height: 80px;
        margin: 3px;
        color: #fff;
        font-family: "Segoe UI";
        border-radius: 3px;
        border: 1px solid #ccc;
        margin-top: -15px;
        margin-bottom: -1px;
        border-bottom: 5px solid #999;
    }
    #leftinner
    {
        width: 6.52%;
        margin: 0px;
        padding: 0px;
        border-right: #FF0000 thin;
        float: left;
        text-align: center;
        vertical-align: auto;
        position: absolute;
        border-right: 1px solid #ccc;
        position: inherit;
    }
    
    #rightinner
    {
        width: 80%;
        margin: 0px;
        padding: 0px;
        float: left;
        position: inherit;
        height: inherit;
        margin-left: 10px;
        text-indent: 20px;
    }
</style>
<script src="../../js/position.js" type="text/javascript"></script>
<script src="../../js/jquery.ui.widget.js" type="text/javascript"></script>
<script src="../../js/jquery.ui.autocomplete.js" type="text/javascript"></script>
<script src="../../js/core.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
    function log( message ) {
			$( "<div/>" ).text( message ).prependTo( "#log" );
			$( "#log" ).scrollTop( 0 );
		}
        $.ajax({
            url: "@Url.Content("~/Content/Contries.xml")",
            dataType: "xml",
            success: function (xmlResponse) {
                var data = $("Code", xmlResponse).map(function () {
                    return {
                        value: $.trim($("Code_Description", this).text()) + ",[ " +
							($.trim($("Code", this).text())+"]" || "(unknown Code)"),
                        id: $("Code", this).text()
                    };
                }).get();
                $("#PrimaryDiagnosis").autocomplete({
                    source: data,
                    minLength: 0,
                    select: function (event, ui) {
                        log(ui.item ?
							"Selected: " + ui.item.value + ", Code: " + ui.item.id :
							"Nothing selected, input was " + this.value);
                    }
                });
            }
        });
    });
    
    
   
</script>
<style type="text/css">
    .tcol
    {
        -moz-column-count: 2;
        -moz-column-gap: 5pxpx;
        -webkit-column-count: 2;
        -webkit-column-gap: 5pxpx;
        column-count: 2;
        column-gap: 5pxpx;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {
        $("#vtabs4").jVertTabs();
    });
</script>
@section Header {
    <h2>
        Add New Patient</h2>
    <a href="@Url.Action("Index", "Home")" data-role="button" data-icon="home" data-theme="e" data-iconpos="notext">
    </a><a href="@Url.Action("Index", "Home")" data-role="button" data-icon="Logout" data-theme="e" data-iconpos="notext">
    </a>
   <div data-role="navbar" data-transition="flip" data-iconpos="top" data-inset="true">
                    <ul>
                        <li><a href="@Url.Action("Create", "Patient", new { Model = Model })" data-theme="a" data-icon="grid" >
                            PatientSetup</a></li>
                        <li><a href="@Url.Action("Create", "PatientAdmission", new { Model = Model })" data-theme="a" data-icon="plus" >
                            PatientAdmission</a></li>
                        <li><a href="@Url.Action("Create", "PatientInsurance", new { Model = Model })" data-theme="a" data-icon="refresh" >
                            Insurance</a></li>
                        <li><a href="@Url.Action("Create", "PatientBilling", new { Model = Model })" data-theme="a" data-icon="check" >
                            Billing</a></li>
                    </ul>
                </div>
}
@section Footer {



}

<form action="/PatientAdmission/Create" id="pform" method="post" >
@Html.Partial("_HeaderPartial",Model)

<div id="vtabs4">
    <div>
        <ul>
            <li><a href="#vtabs-content-b">Admission </li>
            <li><a href="#vtabs-content-c">Other</a></li>
        </ul>
    </div>
    <div>
        <div id="border">
            <div id="#vtabs-content-b">
              
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="LastName">
                            MRN <span id="red">*</span></label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        <input id="MRN" class="validate[required] text-input" name="MRN" type="text"
                value="@Model.MRN" />
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="FirstName">
                            DOB<span id="red">*</span></label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        <input class="validate[required,custom[date]] text-input" id="DOB" name="DOB" type="text" value="@Html.DisplayFor(model => model.DOB)"/>
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="FirstName">
                            Admission Date<span id="red">*</span></label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        <input class="validate[required,custom[date]] text-input" id="DOA" name="DOA" type="text" value="@Model.DOA"/>
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="LastName">
                            Hospital</label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        @Html.EditorFor(model => model.Hospital)
                        @Html.ValidationMessageFor(model => model.Hospital)
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="FirstName">
                            Hospitalist</label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        @Html.EditorFor(model => model.Hospitalist)
                        @Html.ValidationMessageFor(model => model.Hospitalist)
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="FirstName">
                            PCP<span id="red">*</span></label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        @Html.EditorFor(model => model.ReferringPhysician)
                        @Html.ValidationMessageFor(model => model.ReferringPhysician)
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="RoundingHospitalist">
                            Rounding Hospitalist</label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        @Html.EditorFor(model => model.RoundingHospitalist)
                        @Html.ValidationMessageFor(model => model.RoundingHospitalist)
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="FirstName">
                            Reffering Physician<span id="red">*</span></label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        @Html.EditorFor(model => model.ReferringPhysician)
                        @Html.ValidationMessageFor(model => model.ReferringPhysician)
                    </div>
                </div>
                <div class="ui-grid-a" id="top">
                    <div class="ui-block-a" id="ui-block-a">
                        <label for="PrimaryDiagnosis">
                            Primary Diagnosis</label>
                    </div>
                    <div class="ui-block-b" id="ui-block-b">
                        <input class="validate[required] text-input" id="PrimaryDiagnosis" name="PrimaryDiagnosis" type="text" value="@Model.PrimaryDiagnosis" />
                    </div>
                </div>
            </div>
        </div>
        <div id="#vtabs-content-c">
          
            <div class="ui-grid-a" id="top">
                <div class="ui-block-a" id="ui-block-a">
                    <label for="Room">
                        Room</label>
                </div>
                <div class="ui-block-b" id="ui-block-b">
                    @Html.EditorFor(model => model.Room)
                    @Html.ValidationMessageFor(model => model.Room)
                </div>
            </div>
            <div class="ui-grid-a" id="top">
                <div class="ui-block-a" id="ui-block-a">
                    <label for="Floor">
                        Floor</label>
                </div>
                <div class="ui-block-b" id="ui-block-b">
                    @Html.EditorFor(model => model.Floor)
                    @Html.ValidationMessageFor(model => model.Floor)
                </div>
            </div>
            <div class="ui-grid-a" id="top">
                <div class="ui-block-a" id="ui-block-a">
                    <label for="Floor" style="display: inline-table;">
                        Contracted to Nursing Home</label>
                </div>
                <div class="ui-block-b" id="ui-block-b">
                    <input type="checkbox" name="name" value="@Model.CNH"  style="margin-top:5px;"/>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="ui-grid-c" data-content-theme="d" style="text-align: right;">
    <input type="button" data-role="button" data-inline="true" data-theme="a" id="closewindow"
        onclick="return Closechecked();" value="Close" />
    <input type="submit" data-role="button" data-inline="true" data-theme="a" value="Next" />
    <input type="reset" data-role="button" data-inline="true" data-theme="a" value="Reset" />
</div>

</form>

